## ğŸš© ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåï¼š** Sppa
- **ç›®çš„ï¼š** ãƒãƒªå³¶ã®ã‚»ãƒ©ãƒ”ã‚¹ãƒˆã¨å¤–å›½äººè¦³å…‰å®¢ã‚’ã¤ãªããƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆSNS
- **ä¸»è¦æ©Ÿèƒ½ï¼š** ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡ã€äºˆç´„ç®¡ç†ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€é€šçŸ¥ã€ç¿»è¨³ã€åœ°åŸŸé€£æº
- **ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼š** ã‚»ãƒ©ãƒ”ã‚¹ãƒˆï¼ˆãƒãƒªåœ¨ä½ï¼‰ã€å¤–å›½äººè¦³å…‰å®¢ï¼ˆè‹±èªåœãƒ»ã‚¤ãƒ³ãƒ‰ãƒã‚·ã‚¢èªåœï¼‰
- **ä¸»è¦ç”»é¢æ§‹æˆï¼š**
  - ãƒ›ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ‰
  - æ¤œç´¢ãƒ»ç™ºè¦‹
  - æ–½è¡“è©³ç´°
  - ãƒãƒ£ãƒƒãƒˆï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¿»è¨³ä»˜ãï¼‰
  - äºˆç´„ç®¡ç†ï¼ˆã‚»ãƒ©ãƒ”ã‚¹ãƒˆãƒ»è¦³å…‰å®¢åˆ¥ï¼‰
  - ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç®¡ç†ï¼ˆã‚»ãƒ©ãƒ”ã‚¹ãƒˆãƒ»è¦³å…‰å®¢åˆ¥ï¼‰

---

## ğŸš© æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ»è¨€èªï¼š** Next.js (App Router), TypeScript
- **ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ»UIï¼š** Shadcn/UI, Tailwind CSS
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ»APIï¼š** PostgreSQL + Hasuraï¼ˆGraphQLï¼‰
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šä¿¡ï¼š** Hasura Subscriptions
- **ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ï¼š** Supabase Storage
- **ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ï¼š** Cloudflare Pages
- **ç¿»è¨³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼š** LibreTranslate
- **CI/CDãƒ»ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ï¼š** GitHub Actions, Cloudflare WAF

---

## ğŸš©ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆé‡è¦ç®‡æ‰€ï¼‰
```
Sppa
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ README.md
â”œâ”€â”€ bug_report.md
â”œâ”€â”€ config
â”‚Â Â  â”œâ”€â”€ docker-compose.dev.yml
â”‚Â Â  â”œâ”€â”€ docker-compose.prod.yml
â”‚Â Â  â””â”€â”€ pg_hba.conf
â”œâ”€â”€ docs
â”‚Â Â  â””â”€â”€ Sppaæ¦‚è¦.md
â”œâ”€â”€ hasura
â”‚Â Â  â”œâ”€â”€ config.yaml
â”‚Â Â  â”œâ”€â”€ metadata
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ actions.graphql
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ actions.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ allow_list.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ api_limits.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ backend_configs.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ cron_triggers.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ databases
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ databases.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ default
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ tables
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_activity_logs.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_application_settings.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_bookings.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_error_logs.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_event_media.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_events.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_geography_columns.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_geometry_columns.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_likes.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_local_experience_categories.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_local_experience_media.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_local_experiences.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_matches.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_media.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_notifications.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_posts.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_realtime_messages.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_regions.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_reviews.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_service_categories.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_service_media.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_spatial_ref_sys.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_storage_buckets.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_storage_objects.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_therapist_availability.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_therapist_profiles.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_therapist_services.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_tourist_profiles.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_transactions.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_unavailable_dates.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_user_preferences.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ public_users.yaml
â”‚Â Â  â”‚Â Â  â”‚Â Â          â””â”€â”€ tables.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ graphql_schema_introspection.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ inherited_roles.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ metrics_config.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ network.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ opentelemetry.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ permission.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ query_collections.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ remote_schemas.yaml
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ rest_endpoints.yaml
â”‚Â Â  â”‚Â Â  â””â”€â”€ version.yaml
â”‚Â Â  â”œâ”€â”€ migrations
â”‚Â Â  â”‚Â Â  â””â”€â”€ default
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 1742053444159_init
â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ up.sql
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ 1742054367761_init
â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ up.sql
â”‚Â Â  â”‚Â Â      â””â”€â”€ 20250226120000_create_tables.sql
â”‚Â Â  â””â”€â”€ seeds
â”‚Â Â      â””â”€â”€ default
â”‚Â Â          â””â”€â”€ 1741574725086_initial_data.sql
â”œâ”€â”€ middleware.ts
â”œâ”€â”€ next-env.d.ts
â”œâ”€â”€ next-i18next.config.js
â”œâ”€â”€ next.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ postcss.config.js
â”œâ”€â”€ public
â”‚Â Â  â””â”€â”€ images
â”‚Â Â      â”œâ”€â”€ event1.jpg
â”‚Â Â      â”œâ”€â”€ event2.jpg
â”‚Â Â      â”œâ”€â”€ event3.jpg
â”‚Â Â      â”œâ”€â”€ favicon.ico
â”‚Â Â      â”œâ”€â”€ sppa.png
â”‚Â Â      â”œâ”€â”€ sppa2.png
â”‚Â Â      â”œâ”€â”€ technology_stack.png
â”‚Â Â      â”œâ”€â”€ user1.jpg
â”‚Â Â      â””â”€â”€ user2.jpg
â”œâ”€â”€ scripts
â”‚Â Â  â”œâ”€â”€ dev
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ organize_sppa_dirs.sh
â”‚Â Â  â”‚Â Â  â””â”€â”€ server.js
â”‚Â Â  â”œâ”€â”€ generate
â”‚Â Â  â”‚Â Â  â””â”€â”€ api-template.hbs
â”‚Â Â  â”œâ”€â”€ generate-api-from-permissions.js
â”‚Â Â  â”œâ”€â”€ logs
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ migration_log.txt
â”‚Â Â  â”‚Â Â  â””â”€â”€ output.txt
â”‚Â Â  â””â”€â”€ migrations
â”‚Â Â      â””â”€â”€ script.sql
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ app
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ (common)
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ chat
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ [userId]
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AutoTranslate.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AutoTranslateToggle.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ChatWindow.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ EmergencyContact.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MediaShare.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MessageBubble.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MessageInput.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MessageList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ OnlineTherapists.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ PriorityMessage.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RecentConversations.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SearchBar.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ TemplateMessage.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LocationService.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ TouristLayout.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ feed
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FeedList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MasonryFeed.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MultiLanguageSupport.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ OfferCarousel.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ PostCard.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RealTimeAvailabilityBadge.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RecommendedExperiences.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RecommendedTherapists.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TabSelector.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TranslationToggle.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ WelcomeMessage.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ likes
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ LikeButton.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ MatchList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ notifications
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ NotificationList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ NotificationListStatic.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ search
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FilterModal.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FilterPanel.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MapView.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RealTimeAvailabilityIndicator.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ResultCard.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SearchBar.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SearchResults.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TherapistCard.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TrendDisplay.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TrendTags.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ TrendingSearches.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ therapists
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ [therapistId]
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ MediaGallery.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ReviewList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ TherapistAvailability.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ TherapistDetail.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ BookingButton.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ FilterPanel.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ RealTimeStatus.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ ReviewList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ ServiceDetails.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ TherapistCard.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ TherapistFilter.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ TherapistList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â”œâ”€â”€ TherapistMap.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â          â””â”€â”€ TherapistProfile.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ treatment
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ [id]
â”‚Â Â  â”‚Â Â  â”‚Â Â          â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ (therapist)
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ bookings
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingCalendar.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingDetailModal.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ TransactionList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Sidebar.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TherapistAvailabilityPanel.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ TherapistLayout.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ dashboard
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ActivityLog.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingSummary.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DashboardSummary.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ RevenueChart.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ events
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ EventCard.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ EventForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ EventList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ hooks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useActivityLogs.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useBookingData.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useEventData.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ useReviewData.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ profile
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AvailabilitySettings.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ EventForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MediaUploadForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ProfileForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ProfileSettings.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ServiceForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ServiceManagement.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ hooks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ useProfileData.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ useRealTimeProfileUpdates.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ reviews
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ReviewDetailModal.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ReviewList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ReviewOverview.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ settings
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ (tourist)
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ bookings
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ AddOption.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingCalendar.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingCard.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingDetailModal.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ CancelPolicy.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MyBookingsList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RealTimeAvailability.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ReminderNotification.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ TransactionDetails.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ local-experiences
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ [experienceId]
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ MediaGallery.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ExperienceCard.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ExperienceList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ preferences
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ PreferenceForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ profile
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ DarkModeToggle.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ PaymentMethod.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ PreferencesForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ProfileEdit.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ProfileForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ ProfileView.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ ReviewHistory.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ApolloWrapper.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ api
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ activity-logs
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ auth
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ [...nextauth]
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ error-logs
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ events
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ experiences
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ graphql
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ graphql-fallback
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ notifications
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ unread
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ therapists
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ [therapistId]
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ availability
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ translate
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ trends
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ users
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ [userId]
â”‚Â Â  â”‚Â Â  â”‚Â Â          â””â”€â”€ route.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ layout.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ login
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ page.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ providers.tsx
â”‚Â Â  â”‚Â Â  â””â”€â”€ signup
â”‚Â Â  â”‚Â Â      â””â”€â”€ page.tsx
â”‚Â Â  â”œâ”€â”€ backend
â”‚Â Â  â”‚Â Â  â””â”€â”€ api
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ generated-api.ts
â”‚Â Â  â”‚Â Â      â””â”€â”€ graphql
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ availability.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ bookings.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ error-logs.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ events.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ likes.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ local-experiences.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ media.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ reviews.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ services.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ therapists.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ transactions.ts
â”‚Â Â  â”‚Â Â          â”œâ”€â”€ trends.ts
â”‚Â Â  â”‚Â Â          â””â”€â”€ users.ts
â”‚Â Â  â”œâ”€â”€ components
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Avatar.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BookingButton.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ BottomNavigation.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ChatHeader.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ErrorBoundary.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ EventCard.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FeedFilters.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ HomeContent.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ HomeHeader.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LanguageSwitcher.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LoadingSpinner.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ LoginForm.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MediaDisplay.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MediaGallery.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MultiLanguageSupport.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ NotificationItem.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ OfferCarousel.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ PriceDisplay.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ PushNotification.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RatingStars.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RecommendedExperiences.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ReviewCard.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ServiceBadge.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ServiceDetails.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TeaserCard.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TherapistAvailabilityPanel.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TherapistAvailabilityStatus.tsx
â”‚Â Â  â”‚Â Â  â””â”€â”€ ui
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Alert.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Badge.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Button.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Calendar.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Card.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Checkbox.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ DatePicker.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Dialog.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ ErrorMessage.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Form.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Input.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Label.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Navbar.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Select.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Spinner.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Switch.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ Text.tsx
â”‚Â Â  â”‚Â Â      â””â”€â”€ Toast.tsx
â”‚Â Â  â”œâ”€â”€ contexts
â”‚Â Â  â”‚Â Â  â””â”€â”€ ChatContext.tsx
â”‚Â Â  â”œâ”€â”€ graphql
â”‚Â Â  â”‚Â Â  â””â”€â”€ queries.ts
â”‚Â Â  â”œâ”€â”€ hooks
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ api
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ availability.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useActivityLogging.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useAuth.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useCreateBooking.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useCreateEvent.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useCreateReview.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useCreateTransaction.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useErrorLogApi.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchEvents.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchFilters.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchLocalExperiences.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchMedia.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchReviews.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchSearchResults.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchServiceCategories.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchServices.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchTherapistLocations.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchTherapists.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchTrends.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetchUser.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useIsomorphicLayoutEffect.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useLikeTherapist.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useLikeUser.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useMatchList.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useMedia.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useNotificationsApi.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeAvailability.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useServices.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTherapistAvailabilityApi.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTherapistData.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTherapistSearch.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTransactions.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTrends.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useUnreadNotifications.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useUpdateUser.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useUser.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ users.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ realtime
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ui
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ useBottomSheet.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useAutoTranslation.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useBookingNotifications.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFeedData.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFeedStore.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useHomeData.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useLocalExperiences.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useLocationService.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useMyBookings.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useNotificationCount.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useNotificationState.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useOnlineUsers.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ usePageData.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ usePosts.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealTimeAvailability.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealTimeReviews.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeChat.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRecentChats.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useSearchResults.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useSearchUsers.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTherapistAvailability.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTherapistDetails.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTherapistErrorEffect.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useTherapistSearch.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useUserPreferences.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useUserProfile.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ useWebSocketSubscription.ts
â”‚Â Â  â”œâ”€â”€ i18n
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ I18nProvider.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ client.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ server.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ settings.ts
â”‚Â Â  â”œâ”€â”€ lib
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ auth.client.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ auth.server.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ create-ws-client.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ currency-utils.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ date-utils.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ enum-utils.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ geoUtils.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ hasura-client.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ i18n.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ queries
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ media.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ post.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ service.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ therapistAvailability.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ user.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ storage-utils.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ string-utils.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ supabase-client.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ utils.ts
â”‚Â Â  â”œâ”€â”€ locales
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ en.json
â”‚Â Â  â”‚Â Â  â””â”€â”€ id.json
â”‚Â Â  â”œâ”€â”€ realtime
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RealtimeBookingList.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RealtimeEventList.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ RealtimeMatchList.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TherapistAvailabilityPanel.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TherapistAvailabilityStatus.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ availability-listener.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ bookings-listener.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ chat-listener.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ likes-listener.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ notifications-listener.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ notifications-push.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ profile-listener.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useNotifications.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeAvailability.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeBookings.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeChat.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeEvents.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeFeedUpdates.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeMatchList.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeReviews.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRealtimeTransactions.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ useTherapistAvailability.ts
â”‚Â Â  â”œâ”€â”€ styles
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ globals.css
â”‚Â Â  â”‚Â Â  â””â”€â”€ theme.ts
â”‚Â Â  â”œâ”€â”€ types
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ activity-log.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ auth.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ availability.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ booking.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ chat.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ enums.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ error-log.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ event.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ graphql.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ like.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ local-experience.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ lodash.d.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ match.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ media.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ next-i18next.d.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ notification.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ post.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ preference.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ react-window.d.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ review.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ shadcn__ui.d.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ therapist.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ tourist.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ transaction.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ user.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ws.d.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ zen-observable-ts.d.ts
â”‚Â Â  â””â”€â”€ utils
â”‚Â Â      â”œâ”€â”€ auth.ts
â”‚Â Â      â””â”€â”€ supabase
â”‚Â Â          â””â”€â”€ server.ts
â”œâ”€â”€ supabase
â”‚Â Â  â””â”€â”€ config.toml
â”œâ”€â”€ tailwind.config.js
â””â”€â”€ tsconfig.json
```

---

## ğŸš© APIãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ©Ÿèƒ½ã®ä»•æ§˜
- GraphQLã‚’ä½¿ã£ãŸçµ±ä¸€ã•ã‚ŒãŸAPIè¨­è¨ˆ
- Hasura Subscriptionsã§ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†ã‚’æœ€é©åŒ–
- ã„ã„ã­ã€ãƒãƒƒãƒãƒ³ã‚°ã€ãƒãƒ£ãƒƒãƒˆã€äºˆç´„ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†ã‚’å«ã‚€

### GraphQLã‚µãƒ³ãƒ—ãƒ«
```graphql
query GetTherapistProfile($id: UUID!) {
  therapist_profiles_by_pk(id: $id) {
    id
    user_id
    bio
    languages
    working_hours
    status
  }
}

subscription OnTherapistAvailability($therapistId: UUID!) {
  therapist_availability(where: {therapist_id: {_eq: $therapistId}}) {
    id
    start_time
    end_time
    is_available
  }
}
```

---

## ğŸš© ãƒ‡ãƒ¼ã‚¿å‹å®šç¾©ï¼ˆTypeScriptï¼‰
```typescript
export interface TherapistProfile {
  id: string;
  userId: string;
  bio?: string;
  languages: string[];
  workingHours: WorkingHour[];
  status: "online" | "offline" | "busy" | "vacation";
}

export interface WorkingHour {
  day: string;
  startTime: string;
  endTime: string;
}
```

---

## ğŸš© UI/UXãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- Airbnbã‚„Booking.comã‚’æ„è­˜ã—ãŸãƒ¢ãƒ€ãƒ³ã‹ã¤ãƒŸãƒ‹ãƒãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³
- ç™½åŸºèª¿ã€ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã‚«ãƒ©ãƒ¼ (#007aff)
- ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œå¿…é ˆ
- ã‚¢ã‚¤ã‚³ãƒ³å¤šç”¨ã§ç›´æ„Ÿçš„ãªãƒãƒ³ãƒãƒ¼ãƒãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³

---

## ğŸš© ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„
- ESLintã€Prettieræ¨™æº–è¨­å®š
- ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ: 2ã‚¹ãƒšãƒ¼ã‚¹
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ: PascalCaseã€é–¢æ•°å‹ã®ã¿
- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€: ã‚±ãƒãƒ–ã‚±ãƒ¼ã‚¹
- JSDocã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚³ãƒ¡ãƒ³ãƒˆ
- å°‚ç”¨ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒç®¡ç†
- Zustandã‚’ä½¿ç”¨ã—ãŸçŠ¶æ…‹ç®¡ç†

---

## ğŸš© å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä¾‹
```tsx
import { cn } from '@/lib/utils';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'default' | 'outline';
}

export function Button({ className, variant = 'default', ...props }: ButtonProps) {
  return (
    <button
      className={cn(
        'inline-flex items-center justify-center rounded px-4 py-2 transition-colors',
        variant === 'default' && 'bg-blue-500 text-white',
        variant === 'outline' && 'border border-gray-300 text-gray-700',
        className
      )}
      {...props}
    />
  );
}
```

---

## ğŸš© ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å‡¦ç†æ–¹é‡
- GraphQL Subscriptionsã‚’ä½¿ã„ã€ã‚·ãƒ³ãƒ—ãƒ«ã§ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«ãªãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- å°‚ç”¨ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ä¸è¦
- ç¿»è¨³çµæœã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å®Ÿè£…ã—ã¦APIåˆ©ç”¨ã‚’æœ€é©åŒ–

---

## ğŸš© ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»æ¨©é™ç®¡ç†
- Cloudflare WAFã§åŸºæœ¬çš„ãªä¿è­·
- Hasuraã«ã‚ˆã‚‹ãƒ­ãƒ¼ãƒ«ãƒ™ãƒ¼ã‚¹ã®èªå¯è¨­å®š
- GitHub Actionsã‚’ä½¿ã£ãŸCI/CD

---

## ğŸš© ChatGPTã¸ã®å…·ä½“çš„ãªä¾é ¼ä¾‹
- ä¸Šè¨˜ã®ä»•æ§˜ãƒ»æ§‹æˆã«å¾“ã„ã€é«˜å“è³ªãªNext.jsã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
- æä¾›ã—ãŸGraphQL APIã¨TypeScriptå‹ã‚’ä½¿ç”¨ã—ã¦ã€çµ±ä¸€æ„Ÿã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã«ä»•ä¸Šã’ã¦ãã ã•ã„ã€‚
- ã‚¨ãƒ©ãƒ¼å‡¦ç†ã€ãƒ­ãƒ¼ãƒ‰ä¸­ã®çŠ¶æ…‹ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ã‚’æ˜ç¤ºçš„ã«å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
- ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å†åˆ©ç”¨æ€§ã‚’è€ƒæ…®ã—ã€å¿…è¦ã«å¿œã˜ã¦ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
- å›½éš›åŒ–(i18n)ã‚’è€ƒæ…®ã—ã€ãƒ†ã‚­ã‚¹ãƒˆã¯JSONãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å–å¾—ã—ã¦ãã ã•ã„ã€‚

---



-- hasura/migrations/sppa/20250226120000_create_tables.sql
-- ============================================
-- Sppa Database Schema (Fully Optimized, Final)
-- ============================================
-- Notes:
-- - UUIDã‚’ä¸»ã‚­ãƒ¼ã¨ã—ã¦ä½¿ç”¨ã—ã€gen_random_uuid()ã§è‡ªå‹•ç”Ÿæˆã€‚
-- - å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã§ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã‚’ç¢ºä¿ã€‚
-- - åˆ—æŒ™å‹ï¼ˆENUMï¼‰ã‚’æ´»ç”¨ã—ã¦ãƒ‡ãƒ¼ã‚¿ã®å‹å®‰å…¨æ€§ã‚’å‘ä¸Šã€‚
-- - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¯¾å¿œã®ãŸã‚ã€created_atã¨updated_atã‚’æ¨™æº–è£…å‚™ã€‚

-- ==========================================================
-- 1. ENUM Types
-- ==========================================================
DROP TYPE IF EXISTS user_role CASCADE;
CREATE TYPE user_role AS ENUM ('therapist', 'tourist');

DROP TYPE IF EXISTS booking_status CASCADE;
CREATE TYPE booking_status AS ENUM ('pending', 'confirmed', 'canceled', 'completed');

DROP TYPE IF EXISTS media_type_enum CASCADE;
CREATE TYPE media_type_enum AS ENUM ('photo', 'video');

DROP TYPE IF EXISTS payment_status_enum CASCADE;
CREATE TYPE payment_status_enum AS ENUM ('pending', 'completed', 'failed');

DROP TYPE IF EXISTS notification_type_enum CASCADE;
CREATE TYPE notification_type_enum AS ENUM ('like', 'match', 'booking_update', 'review', 'payment', 'promotion', 'chat');

DROP TYPE IF EXISTS therapist_status_enum CASCADE;
CREATE TYPE therapist_status_enum AS ENUM ('online', 'offline', 'busy', 'vacation');

DROP TYPE IF EXISTS payment_method_enum CASCADE;
CREATE TYPE payment_method_enum AS ENUM ('credit_card', 'paypal', 'stripe', 'cash', 'other');

DROP TYPE IF EXISTS review_type_enum CASCADE;
CREATE TYPE review_type_enum AS ENUM ('service', 'general');

DROP TYPE IF EXISTS media_access_level CASCADE;
CREATE TYPE media_access_level AS ENUM ('public', 'private');

DROP TYPE IF EXISTS activity_type CASCADE;
CREATE TYPE activity_type AS ENUM ('login', 'logout', 'update_profile', 'booking_created', 'review_posted');

DROP TYPE IF EXISTS post_type CASCADE;
CREATE TYPE post_type AS ENUM ('service', 'review', 'question', 'general');

DROP TYPE IF EXISTS currency_enum CASCADE;
CREATE TYPE currency_enum AS ENUM ('USD', 'EUR', 'JPY', 'SGD', 'AUD');

-- ==========================================================
-- 2. USERS
-- ==========================================================
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    role user_role NOT NULL,
    profile_picture TEXT,
    phone_number TEXT,
    verified_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 3. THERAPIST PROFILES
-- ==========================================================
CREATE TABLE therapist_profiles (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID UNIQUE NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    bio TEXT,
    experience_years INTEGER,
    location TEXT,
    languages TEXT[] DEFAULT '{}',
    certifications JSONB,
    working_hours JSONB,
    status therapist_status_enum DEFAULT 'offline',
    last_online_at TIMESTAMPTZ,
    price_range_min DECIMAL,
    price_range_max DECIMAL,
    currency currency_enum,
    business_name TEXT,
    address TEXT,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 4. TOURIST PROFILES
-- ==========================================================
CREATE TABLE tourist_profiles (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID UNIQUE NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    nationality TEXT,
    languages TEXT[] DEFAULT '{}',
    interests JSONB,
    travel_dates JSONB,
    budget DECIMAL,
    preferences JSONB,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 5. THERAPIST AVAILABILITY
-- ==========================================================
CREATE TABLE therapist_availability (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    therapist_id UUID NOT NULL REFERENCES therapist_profiles(id) ON DELETE CASCADE,
    start_time TIMESTAMPTZ NOT NULL,
    end_time TIMESTAMPTZ NOT NULL,
    is_available BOOLEAN DEFAULT TRUE,
    recurrence_rule TEXT,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 6. THERAPIST SERVICES
-- ==========================================================
CREATE TABLE therapist_services (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    therapist_id UUID NOT NULL REFERENCES therapist_profiles(id) ON DELETE CASCADE,
    service_name TEXT NOT NULL,
    description TEXT,
    duration INTEGER,
    price DECIMAL NOT NULL,
    currency currency_enum NOT NULL,
    category TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 7. BOOKINGS
-- ==========================================================
CREATE TABLE bookings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    guest_id UUID NOT NULL REFERENCES tourist_profiles(id) ON DELETE CASCADE,
    therapist_id UUID NOT NULL REFERENCES therapist_profiles(id) ON DELETE CASCADE,
    service_id UUID REFERENCES therapist_services(id) ON DELETE SET NULL,
    start_time TIMESTAMPTZ NOT NULL,
    end_time TIMESTAMPTZ NOT NULL,
    status booking_status DEFAULT 'pending',
    booking_notes TEXT,
    confirmed_at TIMESTAMPTZ,
    canceled_at TIMESTAMPTZ,
    completed_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 8. LIKES
-- ==========================================================
CREATE TABLE likes (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    guest_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    therapist_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now(),
    UNIQUE(guest_id, therapist_id)
);

-- ==========================================================
-- 9. MATCHES
-- ==========================================================
CREATE TABLE matches (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    guest_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    therapist_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    matched_at TIMESTAMPTZ DEFAULT now(),
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now(),
    UNIQUE(guest_id, therapist_id)
);

-- ==========================================================
-- 10. MEDIA
-- ==========================================================
CREATE TABLE media (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    therapist_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    media_type media_type_enum NOT NULL,
    url TEXT NOT NULL,
    caption TEXT,
    access_level media_access_level DEFAULT 'public',
    is_profile_image BOOLEAN DEFAULT FALSE,
    is_service_image BOOLEAN DEFAULT FALSE,
    is_review_image BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 11. REVIEWS
-- ==========================================================
CREATE TABLE reviews (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    booking_id UUID NOT NULL REFERENCES bookings(id) ON DELETE CASCADE,
    guest_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    therapist_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    rating DECIMAL NOT NULL,
    comment TEXT,
    review_type review_type_enum DEFAULT 'service',
    media_urls JSONB DEFAULT '[]',
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 12. TRANSACTIONS
-- ==========================================================
CREATE TABLE transactions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    booking_id UUID NOT NULL REFERENCES bookings(id) ON DELETE CASCADE,
    guest_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    therapist_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    amount DECIMAL NOT NULL,
    currency currency_enum NOT NULL,
    payment_status payment_status_enum DEFAULT 'pending',
    payment_method payment_method_enum,
    gateway_transaction_id VARCHAR(255),
    transaction_date TIMESTAMPTZ DEFAULT now(),
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 13. USER_PREFERENCES
-- ==========================================================
CREATE TABLE user_preferences (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID UNIQUE NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    preferred_services TEXT[],
    preferred_duration INTEGER,
    preferred_budget DECIMAL,
    preferred_languages TEXT[],
    gender_preference TEXT,
    amenities_preference JSONB,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 14. NOTIFICATIONS
-- ==========================================================
CREATE TABLE notifications (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    type notification_type_enum NOT NULL,
    message TEXT,
    details JSONB,
    is_read BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 15. EVENTS
-- ==========================================================
CREATE TABLE events (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    therapist_id UUID NOT NULL REFERENCES therapist_profiles(id) ON DELETE CASCADE,
    title TEXT NOT NULL,
    description TEXT,
    start_date TIMESTAMPTZ NOT NULL,
    end_date TIMESTAMPTZ NOT NULL,
    discount_percentage DECIMAL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 16. LOCAL_EXPERIENCES
-- ==========================================================
CREATE TABLE local_experiences (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    description TEXT,
    location TEXT,
    price DECIMAL,
    currency currency_enum,
    duration INTEGER,
    languages TEXT[] DEFAULT '{}',
    available_dates JSONB,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 17. ACTIVITY_LOGS
-- ==========================================================
CREATE TABLE activity_logs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    activity_type activity_type NOT NULL,
    description TEXT,
    request_details JSONB,
    created_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 18. ERROR_LOGS
-- ==========================================================
CREATE TABLE error_logs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id) ON DELETE SET NULL,
    error_type TEXT NOT NULL,
    message TEXT NOT NULL,
    stack_trace TEXT,
    request_details JSONB,
    resolved_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 19. SERVICE_CATEGORIES
-- ==========================================================
CREATE TABLE service_categories (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    description TEXT,
    image_url TEXT,
    parent_category_id UUID REFERENCES service_categories(id) ON DELETE SET NULL,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 20. LOCAL_EXPERIENCE_CATEGORIES
-- ==========================================================
CREATE TABLE local_experience_categories (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    description TEXT,
    image_url TEXT,
    parent_category_id UUID REFERENCES local_experience_categories(id) ON DELETE SET NULL,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 21. REGIONS
-- ==========================================================
CREATE TABLE regions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    description TEXT,
    geojson JSONB,
    parent_region_id UUID REFERENCES regions(id) ON DELETE SET NULL,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 22. UNAVAILABLE_DATES
-- ==========================================================
CREATE TABLE unavailable_dates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    therapist_id UUID NOT NULL REFERENCES therapist_profiles(id) ON DELETE CASCADE,
    start_date TIMESTAMPTZ NOT NULL,
    end_date TIMESTAMPTZ NOT NULL,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 23. SERVICE_MEDIA
-- ==========================================================
CREATE TABLE service_media (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    service_id UUID REFERENCES therapist_services(id) ON DELETE CASCADE,
    media_id UUID REFERENCES media(id) ON DELETE CASCADE,
    order_index INTEGER,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 24. EVENT_MEDIA
-- ==========================================================
CREATE TABLE event_media (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    event_id UUID REFERENCES events(id) ON DELETE CASCADE,
    media_id UUID REFERENCES media(id) ON DELETE CASCADE,
    order_index INTEGER,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 25. LOCAL_EXPERIENCE_MEDIA
-- ==========================================================
CREATE TABLE local_experience_media (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    local_experience_id UUID REFERENCES local_experiences(id) ON DELETE CASCADE,
    media_id UUID REFERENCES media(id) ON DELETE CASCADE,
    order_index INTEGER,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 26. APPLICATION_SETTINGS
-- ==========================================================
CREATE TABLE application_settings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    setting_key TEXT UNIQUE NOT NULL,
    setting_value JSONB,
    description TEXT,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 27. REALTIME_MESSAGES
-- ==========================================================
CREATE TABLE realtime_messages (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    sender_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    receiver_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    content TEXT NOT NULL,
    translated_content JSONB,
    is_read BOOLEAN DEFAULT FALSE,
    sent_at TIMESTAMPTZ DEFAULT now(),
    read_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 28. STORAGE_BUCKETS & STORAGE_OBJECTS
-- ==========================================================
CREATE TABLE storage_buckets (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT UNIQUE NOT NULL,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

CREATE TABLE storage_objects (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    bucket_id UUID NOT NULL REFERENCES storage_buckets(id) ON DELETE CASCADE,
    object_path TEXT NOT NULL,
    media_id UUID REFERENCES media(id) ON DELETE CASCADE,
    mime_type TEXT NOT NULL,
    size INTEGER,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- 29. POSTS
-- ==========================================================
CREATE TABLE posts (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    content TEXT,
    media_id UUID REFERENCES media(id) ON DELETE SET NULL,
    post_type post_type DEFAULT 'general',
    location TEXT,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now()
);

-- ==========================================================
-- Indexes (ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)
-- ==========================================================
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_therapist_profiles_user_id ON therapist_profiles(user_id);
CREATE INDEX idx_bookings_guest_id ON bookings(guest_id);
CREATE INDEX idx_bookings_therapist_id ON bookings(therapist_id);
CREATE INDEX idx_activity_logs_user_id ON activity_logs(user_id);
CREATE INDEX idx_notifications_user_id ON notifications(user_id);
CREATE INDEX idx_realtime_messages_sender_id ON realtime_messages(sender_id);
CREATE INDEX idx_realtime_messages_receiver_id ON realtime_messages(receiver_id);
CREATE INDEX idx_posts_user_id ON posts(user_id);
CREATE INDEX idx_bookings_start_time ON bookings(start_time);
CREATE INDEX idx_bookings_therapist_id_start_time ON bookings(therapist_id, start_time);

-- ==========================================================
-- END OF SCHEMA
-- ==========================================================




tables:
  # Users table: ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã®åŸºæœ¬ãƒ†ãƒ¼ãƒ–ãƒ«
  - table:
      name: users
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["id", "name", "role", "profile_picture", "created_at", "updated_at", "verified_at", "phone_number"]
          filter: {}
          allow_aggregations: true
      - role: tourist
        permission:
          columns: ["id", "name", "role", "profile_picture", "created_at", "verified_at", "phone_number"]
          filter: {}
          allow_aggregations: true
    insert_permissions:
      - role: therapist
        permission:
          columns: ["name", "email", "password_hash", "role", "profile_picture", "phone_number"]
          check: { role: { _eq: "therapist" } }
      - role: tourist
        permission:
          columns: ["name", "email", "password_hash", "role", "profile_picture", "phone_number"]
          check: { role: { _eq: "tourist" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["name", "profile_picture", "phone_number"]
          filter: { id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["name", "profile_picture", "phone_number"]
          filter: { id: { _eq: "X-Hasura-User-Id" } }

  # Posts: æŠ•ç¨¿ç®¡ç†ï¼ˆSNSãƒ•ã‚£ãƒ¼ãƒ‰ç”¨ï¼‰
  - table:
      name: posts
      schema: public
    configuration:
      realtime: true
    object_relationships:
      - name: user
        using:
          foreign_key_constraint_on: user_id
      - name: media
        using:
          foreign_key_constraint_on: media_id
    select_permissions:
      - role: therapist
        permission:
          columns: ["id", "user_id", "content", "post_type", "location", "created_at", "updated_at"]
          filter: {}
          allow_aggregations: true
      - role: tourist
        permission:
          columns: ["id", "user_id", "content", "post_type", "location", "created_at", "updated_at"]
          filter: {}
          allow_aggregations: true
    insert_permissions:
      - role: therapist
        permission:
          columns: ["user_id", "content", "media_id", "post_type", "location"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["user_id", "content", "media_id", "post_type", "location"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["content", "media_id", "post_type", "location"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["content", "media_id", "post_type", "location"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }

  # Media: ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
  - table:
      name: media
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["id", "therapist_id", "media_type", "url", "caption", "created_at", "is_profile_image", "is_service_image", "is_review_image"]
          filter: { access_level: { _eq: "public" } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["therapist_id", "media_type", "url", "caption", "is_profile_image", "is_service_image", "is_review_image", "access_level"]
          check: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["caption", "access_level"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    delete_permissions:
      - role: therapist
        permission:
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }

  # Therapist Profiles: ã‚»ãƒ©ãƒ”ã‚¹ãƒˆã®è©³ç´°ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
  - table:
      name: therapist_profiles
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["id", "user_id", "bio", "experience_years", "location", "languages", "certifications", "working_hours", "status", "last_online_at", "price_range_min", "price_range_max", "currency", "business_name", "address"]
          filter: {}
          allow_aggregations: true
      - role: tourist
        permission:
          columns: ["id", "user_id", "bio", "experience_years", "location", "languages", "certifications", "working_hours", "status", "last_online_at", "price_range_min", "price_range_max", "currency", "business_name", "address"]
          filter: {}
          allow_aggregations: true
    insert_permissions:
      - role: therapist
        permission:
          columns: ["user_id", "bio", "experience_years", "location", "languages", "certifications", "working_hours", "price_range_min", "price_range_max", "currency", "business_name", "address", "status"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["bio", "experience_years", "location", "languages", "certifications", "working_hours", "price_range_min", "price_range_max", "currency", "business_name", "address", "status"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }

  # Tourist Profiles: è¦³å…‰å®¢ã®è©³ç´°ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«
  - table:
      name: tourist_profiles
      schema: public
    select_permissions:
      - role: tourist
        permission:
          columns: ["id", "user_id", "nationality", "languages", "interests", "travel_dates", "budget", "preferences"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: therapist
        permission:
          columns: ["id", "user_id", "nationality", "languages", "interests", "travel_dates", "budget", "preferences"]
          filter: {}
    insert_permissions:
      - role: tourist
        permission:
          columns: ["user_id", "nationality", "languages", "interests", "travel_dates", "budget", "preferences"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: tourist
        permission:
          columns: ["nationality", "languages", "interests", "travel_dates", "budget", "preferences"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }

  # Therapist Availability: ã‚»ãƒ©ãƒ”ã‚¹ãƒˆã®äºˆç´„å¯èƒ½æ™‚é–“
  - table:
      name: therapist_availability
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["id", "therapist_id", "start_time", "end_time", "is_available", "recurrence_rule"]
          filter: { is_available: { _eq: true } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["therapist_id", "start_time", "end_time", "is_available", "recurrence_rule"]
          check: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["start_time", "end_time", "is_available", "recurrence_rule"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    delete_permissions:
      - role: therapist
        permission:
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }

  # Therapist Services: ã‚»ãƒ©ãƒ”ã‚¹ãƒˆãŒæä¾›ã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹
  - table:
      name: therapist_services
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["id", "therapist_id", "service_name", "description", "duration", "price", "currency", "category", "is_active", "created_at", "updated_at"]
          filter: { is_active: { _eq: true } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["therapist_id", "service_name", "description", "duration", "price", "currency", "category", "is_active"]
          check: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["service_name", "description", "duration", "price", "currency", "category", "is_active"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    delete_permissions:
      - role: therapist
        permission:
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }

  # Bookings: äºˆç´„æƒ…å ±
  - table:
      name: bookings
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["*"]
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: tourist
        permission:
          columns: ["guest_id", "therapist_id", "service_id", "start_time", "end_time", "booking_notes"]
          check: { guest_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["status", "confirmed_at", "completed_at"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["status", "canceled_at"]
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }
    delete_permissions:
      - role: tourist
        permission:
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }

  # Likes: ã„ã„ã­æ©Ÿèƒ½
  - table:
      name: likes
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["id", "guest_id", "therapist_id", "created_at", "updated_at"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["id", "guest_id", "therapist_id", "created_at", "updated_at"]
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: tourist
        permission:
          columns: ["guest_id", "therapist_id"]
          check: { guest_id: { _eq: "X-Hasura-User-Id" } }
    delete_permissions:
      - role: tourist
        permission:
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }

  # Matches: ãƒãƒƒãƒãƒ³ã‚°æƒ…å ±
  - table:
      name: matches
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["id", "guest_id", "therapist_id", "matched_at", "created_at", "updated_at"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["id", "guest_id", "therapist_id", "matched_at", "created_at", "updated_at"]
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["guest_id", "therapist_id", "matched_at"]
          check: { therapist_id: { _eq: "X-Hasura-User-Id" } }

  # Reviews: ãƒ¬ãƒ“ãƒ¥ãƒ¼ç®¡ç†
  - table:
      name: reviews
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["*"]
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: tourist
        permission:
          columns: ["booking_id", "guest_id", "therapist_id", "rating", "comment", "review_type", "media_urls"]
          check: { guest_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: tourist
        permission:
          columns: ["rating", "comment", "media_urls"]
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }
    delete_permissions:
      - role: tourist
        permission:
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }

  # Transactions: å–å¼•å±¥æ­´
  - table:
      name: transactions
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["*"]
          filter: { guest_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: tourist
        permission:
          columns: ["booking_id", "guest_id", "therapist_id", "amount", "currency", "payment_status", "payment_method", "gateway_transaction_id", "transaction_date"]
          check: { guest_id: { _eq: "X-Hasura-User-Id" } }

  # User Preferences: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å¥½ã¿è¨­å®š
  - table:
      name: user_preferences
      schema: public
    select_permissions:
      - role: tourist
        permission:
          columns: ["*"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: tourist
        permission:
          columns: ["user_id", "preferred_services", "preferred_duration", "preferred_budget", "preferred_languages", "gender_preference", "amenities_preference"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: tourist
        permission:
          columns: ["preferred_services", "preferred_duration", "preferred_budget", "preferred_languages", "gender_preference", "amenities_preference"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }

  # Notifications: é€šçŸ¥ç®¡ç†
  - table:
      name: notifications
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["*"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["user_id", "type", "message", "details", "is_read"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["user_id", "type", "message", "details", "is_read"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["is_read"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["is_read"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }

  # Events: ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±
  - table:
      name: events
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["id", "therapist_id", "title", "description", "start_date", "end_date", "discount_percentage", "is_active", "created_at", "updated_at"]
          filter: { is_active: { _eq: true } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["therapist_id", "title", "description", "start_date", "end_date", "discount_percentage", "is_active"]
          check: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["title", "description", "start_date", "end_date", "discount_percentage", "is_active"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    delete_permissions:
      - role: therapist
        permission:
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }

  # Local Experiences: ãƒ­ãƒ¼ã‚«ãƒ«ä½“é¨“
  - table:
      name: local_experiences
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: {}
      - role: tourist
        permission:
          columns: ["*"]
          filter: {}

  # Activity Logs: ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ­ã‚°
  - table:
      name: activity_logs
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["*"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["user_id", "activity_type", "description", "request_details"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["user_id", "activity_type", "description", "request_details"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }

  # Error Logs: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°
  - table:
      name: error_logs
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["*"]
          filter: { user_id: { _eq: "X-Hasura-User-Id" } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["user_id", "error_type", "message", "stack_trace", "request_details"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["user_id", "error_type", "message", "stack_trace", "request_details"]
          check: { user_id: { _eq: "X-Hasura-User-Id" } }

  # Service Categories: ã‚µãƒ¼ãƒ“ã‚¹ã‚«ãƒ†ã‚´ãƒª
  - table:
      name: service_categories
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: {}
      - role: tourist
        permission:
          columns: ["*"]
          filter: {}

  # Local Experience Categories: ãƒ­ãƒ¼ã‚«ãƒ«ä½“é¨“ã‚«ãƒ†ã‚´ãƒª
  - table:
      name: local_experience_categories
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: {}
      - role: tourist
        permission:
          columns: ["*"]
          filter: {}

  # Regions: åœ°åŸŸæƒ…å ±
  - table:
      name: regions
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: {}
      - role: tourist
        permission:
          columns: ["*"]
          filter: {}

  # Unavailable Dates: ã‚»ãƒ©ãƒ”ã‚¹ãƒˆã®äºˆç´„ä¸å¯æ—¥
  - table:
      name: unavailable_dates
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["id", "therapist_id", "start_date", "end_date"]
          filter: {}
    insert_permissions:
      - role: therapist
        permission:
          columns: ["therapist_id", "start_date", "end_date"]
          check: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["start_date", "end_date"]
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }
    delete_permissions:
      - role: therapist
        permission:
          filter: { therapist_id: { _eq: "X-Hasura-User-Id" } }

  # Service Media: ã‚µãƒ¼ãƒ“ã‚¹é–¢é€£ãƒ¡ãƒ‡ã‚£ã‚¢
  - table:
      name: service_media
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { service_id: { _in: { _select: { columns: ["id"], table: { name: "therapist_services", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }
      - role: tourist
        permission:
          columns: ["id", "service_id", "media_id", "order_index"]
          filter: {}
    insert_permissions:
      - role: therapist
        permission:
          columns: ["service_id", "media_id", "order_index"]
          check: { service_id: { _in: { _select: { columns: ["id"], table: { name: "therapist_services", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["order_index"]
          filter: { service_id: { _in: { _select: { columns: ["id"], table: { name: "therapist_services", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }
    delete_permissions:
      - role: therapist
        permission:
          filter: { service_id: { _in: { _select: { columns: ["id"], table: { name: "therapist_services", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }

  # Event Media: ã‚¤ãƒ™ãƒ³ãƒˆé–¢é€£ãƒ¡ãƒ‡ã‚£ã‚¢
  - table:
      name: event_media
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { event_id: { _in: { _select: { columns: ["id"], table: { name: "events", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }
      - role: tourist
        permission:
          columns: ["id", "event_id", "media_id", "order_index"]
          filter: {}
    insert_permissions:
      - role: therapist
        permission:
          columns: ["event_id", "media_id", "order_index"]
          check: { event_id: { _in: { _select: { columns: ["id"], table: { name: "events", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["order_index"]
          filter: { event_id: { _in: { _select: { columns: ["id"], table: { name: "events", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }
    delete_permissions:
      - role: therapist
        permission:
          filter: { event_id: { _in: { _select: { columns: ["id"], table: { name: "events", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }

  # Local Experience Media: ãƒ­ãƒ¼ã‚«ãƒ«ä½“é¨“é–¢é€£ãƒ¡ãƒ‡ã‚£ã‚¢
  - table:
      name: local_experience_media
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: {}
      - role: tourist
        permission:
          columns: ["*"]
          filter: {}

  # Realtime Messages: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  - table:
      name: realtime_messages
      schema: public
    configuration:
      realtime: true
    select_permissions:
      - role: therapist
        permission:
          columns: ["id", "sender_id", "receiver_id", "content", "translated_content", "is_read", "sent_at", "read_at", "created_at", "updated_at"]
          filter: { _or: [{ sender_id: { _eq: "X-Hasura-User-Id" } }, { receiver_id: { _eq: "X-Hasura-User-Id" } }] }
          allow_aggregations: true
      - role: tourist
        permission:
          columns: ["id", "sender_id", "receiver_id", "content", "translated_content", "is_read", "sent_at", "read_at", "created_at", "updated_at"]
          filter: { _or: [{ sender_id: { _eq: "X-Hasura-User-Id" } }, { receiver_id: { _eq: "X-Hasura-User-Id" } }] }
          allow_aggregations: true
    insert_permissions:
      - role: therapist
        permission:
          columns: ["sender_id", "receiver_id", "content", "translated_content"]
          check: { sender_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["sender_id", "receiver_id", "content", "translated_content"]
          check: { sender_id: { _eq: "X-Hasura-User-Id" } }
    update_permissions:
      - role: therapist
        permission:
          columns: ["is_read", "read_at"]
          filter: { receiver_id: { _eq: "X-Hasura-User-Id" } }
      - role: tourist
        permission:
          columns: ["is_read", "read_at"]
          filter: { receiver_id: { _eq: "X-Hasura-User-Id" } }

  # Storage Objects: Supabaseã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
  - table:
      name: storage_objects
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: { media_id: { _in: { _select: { columns: ["id"], table: { name: "media", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }
      - role: tourist
        permission:
          columns: ["id", "bucket_id", "object_path", "media_id", "mime_type", "size", "created_at", "updated_at"]
          filter: { media_id: { _in: { _select: { columns: ["id"], table: { name: "media", schema: "public" }, where: { access_level: { _eq: "public" } } } } } }
    insert_permissions:
      - role: therapist
        permission:
          columns: ["bucket_id", "object_path", "media_id", "mime_type", "size"]
          check: { media_id: { _in: { _select: { columns: ["id"], table: { name: "media", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }
    delete_permissions:
      - role: therapist
        permission:
          filter: { media_id: { _in: { _select: { columns: ["id"], table: { name: "media", schema: "public" }, where: { therapist_id: { _eq: "X-Hasura-User-Id" } } } } } }

  # Storage Buckets: Supabaseã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒã‚±ãƒƒãƒˆ
  - table:
      name: storage_buckets
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: {}
      - role: tourist
        permission:
          columns: ["*"]
          filter: {}

  # Application Settings: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
  - table:
      name: application_settings
      schema: public
    select_permissions:
      - role: therapist
        permission:
          columns: ["*"]
          filter: {}
      - role: tourist
        permission:
          columns: ["*"]
          filter: {}
